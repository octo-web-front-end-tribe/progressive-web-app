webpackJsonp([0],[,function(e,t,a){"use strict";var n=a(14),s=a.n(n);t.a={name:"auth",login:function(e){localStorage.setItem("user",s()({name:e}))},logout:function(){localStorage.removeItem("user")},pseudo:function(){return this.ready()?JSON.parse(localStorage.getItem("user")).name:""},ready:function(){return!!localStorage.user}}},,function(e,t,a){"use strict";var n=a(2),s=a.n(n),o=a(34),i=a(23),r=a.n(i),u=a(25),l=a.n(u),c=a(27),d=a.n(c),p=a(24),v=a.n(p),f=a(1);s.a.use(o.a);var _=new o.a({routes:[{path:"/",name:"Messages",component:l.a,meta:{auth:!0}},{path:"/about",name:"About",component:r.a,meta:{auth:!0}},{path:"/login",name:"Login",component:v.a,meta:{auth:!1}},{path:"*",name:"PageNotFound",component:d.a}]});_.beforeEach(function(e,t,a){e.matched.some(function(e){return e.meta.auth})&&!f.a.ready()?_.push("/login"):a()}),t.a=_},,function(e,t,a){a(21);var n=a(0)(a(8),a(32),null,null);e.exports=n.exports},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),s=a.n(n),o=a(6),i=a(4),r=a.n(i),u=a(5),l=a.n(u),c=a(3);s.a.use(o.a),s.a.use(r.a),s.a.config.lang="/en/"===window.location.pathname?"en":"fr",new s.a({el:"#app",router:c.a,template:"<App/>",components:{App:l.a}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(26),s=a.n(n);t.default={name:"app",components:{Navbar:s.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"about",locales:{fr:{message:"Nous sommes partout ..."},en:{message:"We are everywhere ..."}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.default={name:"login",data:function(){return{newPseudo:""}},methods:{login:function(){n.a.login(this.newPseudo),this.$router.push("/")}},locales:{fr:{login:{title:"Identification",placeholder:"Pseudo"}},en:{login:{title:"Login",placeholder:"Pseudo"}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.default={name:"message",data:function(){return{messages:null,pseudo:n.a.pseudo(),newMessage:"",apiURL:"https://microblog-api.herokuapp.com/api/messages"}},created:function(){this.getAllMessages()},methods:{getAllMessages:function(){var e=this;this.$http.get(this.apiURL).then(function(t){e.messages=t.body.reverse()})},postNewMessages:function(){var e=this,t=this.newMessage&&this.newMessage.trim();if(t){var a={author:this.pseudo,content:t};this.$http.post(this.apiURL,a).then(function(){e.getAllMessages(),e.newMessage=""})}}},locales:{fr:{message:{whatsNew:"Quoi de neuf ?",welcome:"Bienvenue "}},en:{message:{whatsNew:"What's new ?",welcome:"Welcome "}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"navbar",locales:{fr:{buttons:{home:"Accueil",about:"À propos"}},en:{buttons:{home:"Home",about:"About"}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"page_not_found",locales:{fr:{message:{notFound:"Page non trouvée"}},en:{message:{notFound:"Page not found"}}}}},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,a){a(20);var n=a(0)(a(9),a(31),"data-v-2cf39619",null);e.exports=n.exports},function(e,t,a){a(22);var n=a(0)(a(10),a(33),"data-v-33dc3ef5",null);e.exports=n.exports},function(e,t,a){a(18);var n=a(0)(a(11),a(29),"data-v-11380fd4",null);e.exports=n.exports},function(e,t,a){a(19);var n=a(0)(a(12),a(30),"data-v-2aff64cc",null);e.exports=n.exports},function(e,t,a){a(17);var n=a(0)(a(13),a(28),"data-v-06291096",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page404"}},[a("h2",[e._v("\n    404\n  ")]),e._v(" "),a("div",{staticClass:"warning-message"},[e._v(e._s(e.$t("message.notFound")))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"messages"},[a("h2",[e._v(" "+e._s(e.$t("message.welcome"))+" "+e._s(e.pseudo))]),e._v(" "),a("div",{staticClass:"message-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],staticClass:"message-input__content",attrs:{type:"text",placeholder:e.$t("message.whatsNew"),autofocus:""},domProps:{value:e.newMessage},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.postNewMessages(t)},input:function(t){t.target.composing||(e.newMessage=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"message-list"},[a("ul",{staticClass:"message-list__ul"},e._l(e.messages,function(t){return a("li",{staticClass:"message-list__li"},[a("div",{staticClass:"message-item"},[a("span",{staticClass:"message-item__author"},[e._v(e._s(t.author))]),e._v(" "),a("span",{staticClass:"message-item__content"},[e._v(e._s(t.content))])])])}))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navigation-bar",attrs:{id:"navbar"}},[a("div",{staticClass:"navigation-bar__inner container"},[a("div",{staticClass:"navigation-bar__brand"}),e._v(" "),a("div",{staticClass:"navigation-bar__links"},[a("ul",{staticClass:"navigation-bar__ul"},[a("li",{staticClass:"navigation-bar__li",attrs:{id:"navbar_home"}},[a("router-link",{staticClass:"navigation-bar__link",attrs:{to:"/"}},[a("i",{staticClass:"navigation-bar__link-icon fa fa-home",attrs:{"aria-hidden":"true"}}),e._v(" "),a("span",{staticClass:"navigation-bar__link-label"},[e._v(e._s(e.$t("buttons.home")))])])],1),e._v(" "),a("li",{staticClass:"navigation-bar__li",attrs:{id:"navbar_about"}},[a("router-link",{staticClass:"navigation-bar__link",attrs:{to:"/about"}},[a("i",{staticClass:"navigation-bar__link-icon fa fa-info-circle",attrs:{"aria-hidden":"true"}}),e._v(" "),a("span",{staticClass:"navigation-bar__link-label"},[e._v(e._s(e.$t("buttons.about")))])])],1)])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"about"}},[a("h2",[e._v(e._s(e.$t("message")))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app",attrs:{id:"app"}},[a("navbar"),e._v(" "),a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("h1",[e._v(e._s(e.$t("login.title")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPseudo,expression:"newPseudo"}],attrs:{type:"text",placeholder:e.$t("login.placeholder")},domProps:{value:e.newPseudo},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.login(t)},input:function(t){t.target.composing||(e.newPseudo=t.target.value)}}})])},staticRenderFns:[]}},,,,function(e,t){}],[7]);
//# sourceMappingURL=app.8870d810c5ea4688a70f.js.map